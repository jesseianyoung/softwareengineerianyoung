<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Monthsary Letter â€” A Little Love</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <style>
        :root {
          --bg: #0f1724;
          --card: #0b1220;
          --accent: #ff6b81;
          --muted: #94a3b8;
          --text-light: #e6eef8;
          --text-dark: #061526;
          --glass: rgba(255, 255, 255, 0.05);
        }
        [data-theme="light"] {
          --bg: #f5f7fa;
          --card: #fff;
          --accent: #ff4b69;
          --muted: #64748b;
          --text-light: #061526;
          --text-dark: #061526;
          --glass: rgba(0, 0, 0, 0.05);
        }

        html, body {
          margin: 0; padding: 0; height: 100%;
          background:
            radial-gradient(1200px 600px at 10% 10%, rgba(255,107,129,0.07), transparent),
            radial-gradient(900px 400px at 90% 90%, rgba(99,102,241,0.05), transparent),
            var(--bg);
          color: var(--text-light);
          font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          display: flex;
          flex-direction: column;
          align-items: center;
          min-height: 100vh;
          padding: 48px 24px 24px;
          transition: background 0.5s ease, color 0.5s ease;
        }

        .portrait-container {
          position: relative;
          width: 100%;
          max-width: 460px;
          margin: 0 auto 24px;
          pointer-events: none;
          user-select: none;
        }
        .portrait {
          width: 100%;
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 10px 30px rgba(2,6,23,0.7);
          border: 4px solid rgba(255,255,255,0.04);
          background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
          animation: float 6s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
          position: relative;
        }
        .portrait img {
          width: 100%;
          display: block;
          user-select: none;
          pointer-events: none;
        }
        .portrait::after {
          content: '';
          position: absolute;
          top: -40%;
          left: -60%;
          width: 220%;
          height: 220%;
          background: linear-gradient(
            120deg,
            rgba(255, 255, 255, 0) 30%,
            rgba(255, 255, 255, 0.2) 50%,
            rgba(255, 255, 255, 0) 70%
          );
          transform: rotate(25deg);
          animation: shimmerMove 4s linear infinite;
          pointer-events: none;
          border-radius: 20px;
          z-index: 3;
        }
        @keyframes glowPulse {
          0%, 100% {
            border-color: rgba(255, 107, 129, 0.04);
            box-shadow: 0 0 8px 2px rgba(255, 107, 129, 0.2);
          }
          50% {
            border-color: rgba(255, 107, 129, 0.15);
            box-shadow: 0 0 18px 6px rgba(255, 107, 129, 0.6);
          }
        }
        @keyframes shimmerMove {
          0% { transform: translateX(-100%) rotate(25deg); }
          100% { transform: translateX(100%) rotate(25deg); }
        }
        @keyframes float {
          0% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
          100% { transform: translateY(0); }
        }

        .card {
          width: 100%;
          max-width: 980px;
          background: var(--card);
          border-radius: 24px;
          padding: 32px 36px;
          box-shadow: 0 10px 30px rgba(2,6,23,0.6);
          backdrop-filter: blur(6px);
          position: relative;
          transition: background-color 0.5s ease, box-shadow 0.5s ease, color 0.5s ease;
        }
        [data-theme="light"] .card {
          box-shadow: 0 6px 20px rgba(124, 92, 255, 0.1);
          color: var(--text-dark);
        }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; align-items: start; }
        @media (max-width: 860px) { .grid { grid-template-columns: 1fr; } }

        .left { text-align: center; }
        .badge {
          background: linear-gradient(90deg, var(--accent), #7c5cff);
          color: #0b0b0b;
          font-weight: 600;
          border-radius: 9999px;
          padding: 10px 20px;
          display: inline-block;
          margin-bottom: 8px;
        }
        .date { font-size: 14px; color: var(--muted); margin-bottom: 16px; }
        .countdown { font-weight: 600; font-size: 18px; color: var(--accent); user-select: none; margin-bottom: 18px; }

        .right { padding-left: 18px; }
        @media (max-width: 860px) { .right { padding-left: 0; } }

        h1.greeting { font-family: 'Great Vibes', cursive; font-size: 48px; margin: 0 0 6px; }
        @media (max-width: 500px) { h1.greeting { font-size: 36px; } }

        .subtitle { color: var(--muted); margin: 0 0 24px; }

        .letter {
          background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
          border-radius: 16px;
          padding: 24px;
          color: #eaf3ff;
          line-height: 1.6;
          border: 1px solid rgba(255,255,255,0.03);
          position: relative;
          min-height: 180px;
          max-height: 320px;
          overflow-y: auto;
          user-select: text;
          font-size: 18px;
          white-space: pre-wrap;
          transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease;
          scrollbar-width: none;
          -ms-overflow-style: none;
        }
        .letter::-webkit-scrollbar { display: none; }
        [data-theme="light"] .letter { background: #fff; color: var(--text-dark); border-color: #e0e0e0; box-shadow: 0 3px 6px rgb(0 0 0 / 0.1); }
        .letter p:first-child::first-letter { font-family: 'Great Vibes'; font-size: 48px; float: left; margin-right: 12px; line-height: 1; color: var(--accent); }
        @media (max-width: 600px) { .letter { font-size: 16px; max-height: 280px; padding: 20px; } }

        .controls { display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; margin-top: 24px; }
        .btn {
          background: var(--glass);
          border: 1px solid rgba(255, 255, 255, 0.04);
          padding: 12px 24px;
          border-radius: 12px;
          font-weight: 600;
          cursor: pointer;
          color: inherit;
          transition: background-color 0.3s ease;
          min-width: 140px;
          user-select: none;
        }
        .btn:hover, .btn:focus-visible { background-color: rgba(255, 107, 129, 0.15); outline: none; }
        .btn.primary {
          background: linear-gradient(90deg, var(--accent), #7c5cff);
          color: #061526;
          border: none;
          box-shadow: 0 6px 20px rgba(124, 92, 255, 0.18);
        }

        .foot { margin-top: 20px; font-size: 13px; text-align: center; color: var(--muted); }

        .cursor { display: none !important; }
        .hearts { position: absolute; inset: 0; pointer-events: none; z-index: 10; }
        .heart {
          position: absolute;
          width: 26px; height: 26px;
          transform: translate(-50%, -50%) scale(0);
          animation: pop 2.4s forwards;
          opacity: 0.95;
        }
        .heart::before,.heart::after { content: ''; position: absolute; width: 26px; height: 26px; background: var(--accent); border-radius: 50%; top: 0; transform-origin: center; }
        .heart::after { left: 0; }
        @keyframes pop { 0%{transform:translate(-50%,-50%) scale(0);opacity:0;}10%{transform:translate(-50%,-50%) scale(1.05);opacity:1;}100%{transform:translate(-50%,-400%) scale(0.6);opacity:0;} }

        canvas.confetti { position: absolute; inset: 0; pointer-events: none; z-index: 1; border-radius: 20px; }

        .toggle-switch {
          position: fixed; top: 24px; right: 24px;
          background: var(--card); border-radius: 50px; padding: 6px;
          width: 60px; height: 32px; box-shadow: 0 2px 10px rgba(0,0,0,0.15);
          display: flex; align-items: center; cursor: pointer; user-select: none;
          transition: background-color 0.5s ease; z-index: 1100;
        }
        [data-theme="light"] .toggle-switch { box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .toggle-switch input { display: none; }
        .slider {
          width: 26px; height: 26px; background: var(--accent);
          border-radius: 50%; position: relative; transition: transform 0.3s ease;
          box-shadow: 0 3px 8px rgba(124, 92, 255, 0.4);
        }
        input:checked + .slider {
          transform: translateX(28px);
          background: #7c5cff;
          box-shadow: 0 3px 8px rgba(255, 107, 129, 0.6);
        }

        /* Circular floating music button */
        #musicToggle {
            position: fixed;
            bottom: 80px;
            right: 40px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            background: linear-gradient(90deg, #ff6b81, #7c5cff);
            color: #061526;
            z-index: 1200;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            transition: transform 0.2s ease, background 0.3s ease;
        }
        #musicToggle:hover {
            transform: scale(1.1);
            background: linear-gradient(90deg, #ff8099, #8c6bff);
        }
    </style>
</head>
<body>

<div class="portrait-container" aria-hidden="true">
    <div class="portrait" id="portrait">
        <canvas class="confetti" id="confetti"></canvas>
        <img src="/images/AugustMonthsaryImage2025.jpg" alt="Lovely couple portrait" />
    </div>
</div>

<label class="toggle-switch" aria-label="Toggle dark/light mode" role="switch" aria-checked="false" tabindex="0">
    <input type="checkbox" id="themeToggle" />
    <span class="slider"></span>
</label>

<div class="card" role="main">
    <div class="grid">
        <div class="left">
            <div class="badge">Happy 8th Monthsary</div>
            <div class="date" id="milestoneDate">August 1, 2025</div>
        </div>
        <div class="right">
            <h1 class="greeting">To My Beautiful Wifey</h1>
            <div class="subtitle">Every month with you feels like a beautiful new chapter.</div>
            <div class="letter" id="letter" tabindex="0" aria-label="Love letter content">
                <div id="typing"></div>
                <div class="cursor"></div>
            </div>

            <div class="controls">
                <button class="btn" id="surpriseBtn" aria-label="Show a surprise message">Surprise Me</button>
                <button class="btn primary" id="printBtn" aria-label="Print or save this letter as PDF">Print / Save PDF</button>
            </div>

            <div class="foot">Tip: Click <strong>Surprise Me</strong> for a sweet message. Click <strong>Print / Save PDF</strong> to keep this forever.</div>

            <button id="musicToggle" aria-label="Toggle background music">ðŸ”‡</button>
            <audio id="bgMusic" src="/music/august2025/Piano_N.mp3" loop></audio>
        </div>
    </div>
    <div class="hearts" id="hearts" aria-hidden="true"></div>
</div>

<script>
    // Typing effect
    const messages = [
      `My Wifey,\n\nHappy 8th Monthsary!\n\nIn the short time weâ€™ve shared, youâ€™ve turned ordinary days into a beautiful story I never want to end.\n\nHereâ€™s to many more months and countless little adventures together. I love you â€” more than words, more than time.\n\nTagalog naman.\nI was always thankful wifey, time flies so fast. We spend each other na magkasama tayo. Kahit magkalayo man, always remember na mahal na mahal kita.\nI always want na makasama ka. The moment I feel sad because I want you na makasama ka ng personal. Sorry for the things na nangyari when the time na nagaaway tayo.\nI just want na makasama ka personally. This July, I was thankful kasi birthday ko and I appreciate the gift na binigay mo sa akin. Thatâ€™s why I am very happy.\nLastly, words cannot express how proud I am. I just want to thank you. Always remember I love you always no matter what you do. I will always be here wishing you the best.\n\nAlways yours,\nHubby (Jesse Ian Young)`,
      `My Asawa,\n\nAnother month, another memory, another reason to love you more. You are my joy, my safe place, and my greatest gift.\n\nForever and always,\nTruly Yours,\nHubby`,
      `Suprise Asawa ko Princess Fuggan,\n\nEach month with you feels like magic. Iâ€™m grateful for every laugh, hug, and quiet moment we share.\n\nYours truly,\nHubby Pogi`
    ];
    const typingEl = document.getElementById('typing');
    const cursorEl = document.querySelector('.cursor');
    let charIndex = 0;
    let text = messages[0];

    function typeStep() {
      if (charIndex <= text.length) {
        typingEl.innerHTML = text.substring(0, charIndex).replace(/\n/g, '<br>');
        charIndex++;
        setTimeout(typeStep, 50);
      } else { cursorEl.style.display='none'; }
    }
    function startTyping(msgIndex) {
      cursorEl.style.display='inline-block';
      charIndex = 0;
      text = messages[msgIndex];
      typeStep();
    }
    document.getElementById('surpriseBtn').addEventListener('click', () => {
      const current = messages.indexOf(text);
      const next = (current + 1) % messages.length;
      startTyping(next);
    });
    startTyping(0);

    // Print
    document.getElementById('printBtn').addEventListener('click', ()=>{ window.print(); });

    // Hearts animation
    const hearts = document.getElementById('hearts');
    function spawnHeart() {
      const h = document.createElement('div');
      h.className='heart';
      h.style.left=(Math.random()*100)+'%';
      h.style.top=(60+Math.random()*40)+'%';
      h.style.animationDuration=(2+Math.random()*2.2)+'s';
      h.style.transform=`translate(-50%,-50%) rotate(${Math.random()*40-20}deg)`;
      hearts.appendChild(h);
      setTimeout(()=>h.remove(),3200);
    }
    setInterval(spawnHeart,250);

    // Confetti
    const confettiCanvas=document.getElementById('confetti');
    const ctx=confettiCanvas.getContext('2d');
    let confettiPieces=[];
    function resizeCanvas(){ confettiCanvas.width=confettiCanvas.clientWidth; confettiCanvas.height=confettiCanvas.clientHeight; }
    window.addEventListener('resize',resizeCanvas);
    resizeCanvas();
    function ConfettiPiece(){ this.x=Math.random()*confettiCanvas.width; this.y=Math.random()*confettiCanvas.height; this.size=4+Math.random()*4; this.speedY=0.5+Math.random(); this.speedX=(Math.random()-0.5)*1.5; this.color=`hsl(${Math.random()*360},70%,60%)`; this.angle=Math.random()*360; this.spin=(Math.random()-0.5)*0.2; }
    ConfettiPiece.prototype.update=function(){ this.y+=this.speedY; this.x+=this.speedX; this.angle+=this.spin; if(this.y>confettiCanvas.height){this.y=0;this.x=Math.random()*confettiCanvas.width;} if(this.x>confettiCanvas.width)this.x=0; if(this.x<0)this.x=confettiCanvas.width; };
    ConfettiPiece.prototype.draw=function(){ ctx.save(); ctx.translate(this.x,this.y); ctx.rotate(this.angle); ctx.fillStyle=this.color; ctx.fillRect(-this.size/2,-this.size/2,this.size,this.size); ctx.restore(); };
    for(let i=0;i<60;i++){ confettiPieces.push(new ConfettiPiece()); }
    function animateConfetti(){ ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); confettiPieces.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(animateConfetti); }
    animateConfetti();

    // Theme toggle
    const toggle=document.getElementById('themeToggle');
    toggle.checked=false; // default dark
    toggle.addEventListener('change',()=>{ document.documentElement.setAttribute('data-theme', toggle.checked?'light':'dark'); });

    // Music toggle
    const musicBtn=document.getElementById('musicToggle');
    const music=document.getElementById('bgMusic');
    let playing=false;
    musicBtn.addEventListener('click',()=>{
        if(!playing){ music.play(); musicBtn.textContent='ðŸ”Š'; playing=true; }
        else{ music.pause(); musicBtn.textContent='ðŸ”‡'; playing=false; }
    });
</script>

</body>
</html>